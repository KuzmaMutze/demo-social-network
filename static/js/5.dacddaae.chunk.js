(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[5],{566:function(e,t,s){e.exports={avatar:"Profile_avatar__3lCtT",upload:"Profile_upload__2aiy0",statusUpload:"Profile_statusUpload__1z6Yd",input:"Profile_input__3d3XV",btn_contact:"Profile_btn_contact__1lx3Y",wrapper:"Profile_wrapper__1ojNP"}},586:function(e,t,s){e.exports={items:"Content_items__2uNhE"}},672:function(e,t,s){e.exports={titleNewPost:"MyPosts_titleNewPost__1l1Fi"}},673:function(e,t,s){e.exports={img:"Post_img__ZxOsZ",writing:"Post_writing__2i3Ms",like:"Post_like__8m9HU",item:"Post_item__3v7MR"}},682:function(e,t,s){"use strict";s.r(t);var i=s(7),a=s(225),c=s(226),r=s(265),n=s(261),o=s(0),l=s.n(o),j=s(22),b=s(30),d=s(28),u=s(199),p=s(87),O=s(672),h=s.n(O),f=s(673),x=s.n(f),m=s(684),v=s(548),P=s(553),_=s(1),N=function(e){return Object(_.jsx)("div",{children:Object(_.jsxs)("div",{className:x.a.item,children:[Object(_.jsx)(v.a,{size:64,icon:Object(_.jsx)(P.a,{})}),Object(_.jsx)("span",{className:x.a.writing,children:e.message}),Object(_.jsxs)("a",{className:x.a.like,href:"#",children:[Object(_.jsx)(m.a,{twoToneColor:"#eb2f96"}),e.like]})]})})},w=s(259),g=s(115),k=s(139),S=s(260),I=s(560),y=Object(g.a)(15),T=Object(w.a)({form:"profileAddPostTextArea"})((function(e){return Object(_.jsx)("div",{children:Object(_.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(k.b)("Write a new post","addedPostElement",[g.b,y],I.TextAreaField),Object(_.jsx)(S.a,{type:"primary",htmlType:"submit",children:"Send"})]})})})),D=function(e){var t=Object(p.a)(e.postData).reverse().map((function(e){return Object(_.jsx)(N,{message:e.message,like:e.like},e.id)}));return Object(_.jsxs)("div",{className:h.a.wrapper,children:[Object(_.jsx)("div",{className:h.a.newPost,children:Object(_.jsx)(T,{onSubmit:function(t){e.addPost(t.addedPostElement)}})}),Object(_.jsx)("div",{className:h.a.titleNewPost,children:Object(_.jsx)("b",{children:"My posts"})}),Object(_.jsx)("div",{children:t})]})},U=Object(j.b)((function(e){return{postData:e.contentPage.postData,newPostText:e.contentPage.newPostText}}),{addPost:u.a.addPostActionCreater})(D),A=s(194),C=s(97),F=s(566),M=s.n(F),E=function(e){var t=Object(o.useState)(!1),s=Object(A.a)(t,2),i=s[0],a=s[1],c=Object(o.useState)(e.status),r=Object(A.a)(c,2),n=r[0],l=r[1];Object(o.useEffect)((function(){l(e.status)}),[e.status]);var j=function(){a(!1),e.updateStatusProfile(n)};return Object(_.jsx)("div",{className:M.a.wrapper,children:i?Object(_.jsxs)("div",{children:["Status: ",Object(_.jsx)("input",{onChange:function(e){l(e.currentTarget.value)},onBlur:j,onClick:j,value:n,autoFocus:!0})]}):Object(_.jsxs)("div",{onClick:function(){a(!0)},children:[Object(_.jsx)("b",{children:"Status:"}),Object(_.jsxs)("span",{className:M.a.statusUpload,children:[" ",e.status||"set status"]})]})})},J=s(227),V=(Object(g.a)(15),Object(w.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,s=e.profile,i=e.isOwner,a=e.error;return Object(_.jsx)("form",{onSubmit:t,children:Object(_.jsxs)("div",{className:M.a.wrapper,children:[a&&Object(_.jsx)("div",{className:M.a.error,children:a}),Object(_.jsxs)("div",{className:M.a.input,children:[Object(_.jsx)("b",{children:"User Name"}),":",Object(k.b)("Full name","fullName",[],I.TextField)]}),Object(_.jsxs)("div",{className:M.a.input,children:[Object(_.jsx)("b",{children:"About me:"}),Object(k.b)("About me","aboutMe",[],I.TextField)]}),Object(_.jsx)("br",{}),Object(_.jsxs)("div",{className:M.a.input,children:[Object(_.jsxs)("div",{style:{marginBottom:"15px",fontSize:"18px"},children:[Object(_.jsx)("b",{children:"Contacts"}),":"]})," ",Object.keys(s.contacts).map((function(e){return Object(_.jsx)("div",{children:Object(_.jsxs)("b",{children:[e,": ",Object(k.b)(e,"contacts."+e,[],I.TextField)]})},e)}))]}),Object(_.jsx)("br",{}),Object(_.jsxs)("div",{className:M.a.input,children:[Object(_.jsx)("b",{children:"I find work:"}),Object(k.b)("","lookingForAJob",[],I.CheckboxField)]}),Object(_.jsxs)("div",{className:M.a.input,children:[Object(_.jsx)("b",{children:"Description:"})," ",Object(k.b)("Description","lookingForAJobDescription",[],I.TextField)]}),i&&Object(_.jsx)(S.a,{className:M.a.btn_contact,htmlType:"submit",type:"primary",children:"Save"})]})})}))),z=s(680),Y=s(685),B=function(e){var t=e.profile,s=e.isOwner,i=e.goToEditMode;return Object(_.jsxs)("div",{className:M.a.wrapper,children:[Object(_.jsxs)("div",{className:M.a.profileDataItems,children:[Object(_.jsx)("b",{children:"User Name:"})," ",t.fullName]}),Object(_.jsxs)("div",{className:M.a.profileDataItems,children:[Object(_.jsx)("b",{children:"About me:"})," ",t.aboutMe]}),Object(_.jsx)("br",{}),Object(_.jsxs)("div",{children:[Object(_.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(e){return Object(_.jsx)(R,{contactTitle:e,contactValue:t.contacts[e]},e)}))]}),Object(_.jsx)("br",{}),Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:M.a.profileDataItems,children:[Object(_.jsx)("b",{children:"I find work:"})," ",t.lookingForAJob?"Yes":"No"]}),Object(_.jsxs)("div",{className:M.a.profileDataItems,children:[Object(_.jsx)("b",{children:"Description:"})," ",t.lookingForAJobDescription]})]}),s&&Object(_.jsx)(S.a,{type:"primary",onClick:i,children:"Edit"})]})},R=function(e){var t=e.contactTitle,s=e.contactValue;return Object(_.jsxs)("div",{className:M.a.profileDataItems,children:[Object(_.jsx)("b",{children:t}),": ",s]})},Z=function(e){var t=Object(o.useState)(!1),s=Object(A.a)(t,2),i=s[0],a=s[1];if(!e.profile)return Object(_.jsx)(C.a,{});return Object(_.jsx)("div",{children:Object(_.jsxs)("div",{className:M.a.items,children:[Object(_.jsxs)("div",{className:M.a.info,children:[Object(_.jsx)("img",{src:e.profile.photos.large||J.a,className:M.a.avatar,alt:"avatar"}),Object(_.jsx)(z.a,{action:function(t){t&&e.savePhoto(t)},listType:"picture",maxCount:1,children:Object(_.jsx)(S.a,{style:{marginLeft:"20px"},icon:Object(_.jsx)(Y.a,{}),children:"Upload"})}),Object(_.jsx)(E,{status:e.status,updateStatusProfile:e.updateStatusProfile})]}),Object(_.jsx)("div",{className:M.a.info,children:i?Object(_.jsx)(V,{onSubmit:function(t){e.saveProfileInfo(t).then((function(){a(!1)}))},initialValues:e.profile,profile:e.profile,isOwner:e.isOwner}):Object(_.jsx)(B,{profile:e.profile,isOwner:e.isOwner,goToEditMode:function(){a(!0)}})})]})})},H=s(586),L=s.n(H),W=function(e){return Object(_.jsxs)("div",{className:L.a.items,children:[Object(_.jsx)(Z,{saveProfileInfo:e.saveProfileInfo,savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatusProfile:e.updateStatusProfile}),Object(_.jsx)(U,{})]})},X=function(e){Object(r.a)(s,e);var t=Object(n.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authUserId)||this.props.history.push("/login"),this.props.updateStatusProfile(this.props.status),e?(this.props.getUserProfile(e),this.props.getStatusProfile(e)):console.error('ID should exists in URI params or in state ("authUserId")')}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(_.jsx)("div",{className:L.a.content,children:Object(_.jsx)(W,Object(i.a)(Object(i.a)({},this.props),{},{saveProfileInfo:this.props.saveProfileInfo,profile:this.props.profile,status:this.props.status,updateStatusProfile:this.props.updateStatusProfile,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto}))})}}]),s}(l.a.Component);t.default=Object(d.d)(b.h,Object(j.b)((function(e){return{profile:e.contentPage.profile,status:e.contentPage.status,authUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:u.d,getStatusProfile:u.c,updateStatusProfile:u.g,savePhoto:u.e,saveProfileInfo:u.f}))(X)}}]);
//# sourceMappingURL=5.dacddaae.chunk.js.map