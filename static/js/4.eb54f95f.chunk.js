(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[4],{295:function(t,e,s){t.exports={avatar:"Profile_avatar__2Vy0x",items:"Profile_items__3NluD",upload:"Profile_upload__2f6Yn",statusUpload:"Profile_statusUpload__LzTbZ",editContacts:"Profile_editContacts__-2TJb",submitContacts:"Profile_submitContacts__TNEKG",contactsInput:"Profile_contactsInput__uvOSh",profileDataItems:"Profile_profileDataItems__Ct8SW",error:"Profile_error__2MDn-"}},296:function(t,e,s){t.exports={items:"Content_items__1oVTB"}},302:function(t,e,s){t.exports={wrapper:"MyPosts_wrapper__3_LDe",newPost:"MyPosts_newPost__1Cim_",newPost__button:"MyPosts_newPost__button__2bMnS",textarea:"MyPosts_textarea__1opuX",items:"MyPosts_items__3azYC"}},303:function(t,e,s){t.exports={img:"Post_img__3zhVy",writing:"Post_writing__1yI_e",like:"Post_like__3gkzt",item:"Post_item__31d64"}},305:function(t,e,s){"use strict";s.r(e);var a=s(3),c=s(29),i=s(30),n=s(32),o=s(31),r=s(1),l=s.n(r),j=s(13),u=s(11),b=s(10),d=s(97),p=s(302),f=s.n(p),h=s(303),O=s.n(h),m=s(0),x=function(t){return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:O.a.item,children:[Object(m.jsx)("img",{className:O.a.img,src:"https://sun9-76.userapi.com/impf/c630116/v630116375/35fa8/amcvlYluyh0.jpg?size=200x200&quality=96&proxy=1&sign=175e9fc3773031e2b291c40e618909af&c_uniq_tag=SAZKXJyRWvPJXt0GEE-L-eNyituxcBrRKYoch7Qb8R4&type=album",alt:"ava"}),Object(m.jsx)("span",{className:O.a.writing,children:t.message}),Object(m.jsxs)("a",{className:O.a.like,href:"#",children:["Like ",t.like]})]})})},v=s(131),_=s(132),P=s(50),g=s(67),N=Object(P.a)(15),w=Object(_.a)({form:"profileAddPostTextArea"})((function(t){return Object(m.jsx)("div",{children:Object(m.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(m.jsx)(v.a,{className:f.a.textarea,name:"addedPostElement",placeholder:"Write a new post",component:g.b,validate:[P.b,N]}),Object(m.jsx)("button",{className:f.a.newPost__button,children:"Send"})]})})})),I=function(t){var e=t.postData.map((function(t){return Object(m.jsx)(x,{message:t.message,like:t.like},t.id)}));return Object(m.jsxs)("div",{className:f.a.wrapper,children:[Object(m.jsx)("div",{className:f.a.newPost,children:Object(m.jsx)(w,{onSubmit:function(e){t.addPost(e.addedPostElement)}})}),Object(m.jsx)("div",{className:f.a.newPost,children:Object(m.jsx)("b",{children:"My posts"})}),Object(m.jsx)("div",{children:e})]})},k=Object(j.b)((function(t){return{postData:t.contentPage.postData,newPostText:t.contentPage.newPostText}}),(function(t){return{addPost:function(e){t(Object(d.a)(e))}}}))(I),S=s(98),y=s(43),D=s(295),C=s.n(D),M=function(t){var e=Object(r.useState)(!1),s=Object(S.a)(e,2),a=s[0],c=s[1],i=Object(r.useState)(t.status),n=Object(S.a)(i,2),o=n[0],l=n[1];Object(r.useEffect)((function(){l(t.status)}),[t.status]);var j=function(){c(!1),t.updateStatusProfile(o)};return Object(m.jsx)("div",{children:a?Object(m.jsxs)("div",{children:["Status: ",Object(m.jsx)("input",{onChange:function(t){l(t.currentTarget.value)},onBlur:j,onClick:j,value:o,autoFocus:!0})]}):Object(m.jsxs)("div",{onClick:function(){c(!0)},children:[Object(m.jsx)("b",{children:"Status:"}),Object(m.jsxs)("span",{className:C.a.statusUpload,children:[" ",t.status||"set status"]})]})})},T=s(119),A=(Object(P.a)(15),Object(_.a)({form:"edit-profile"})((function(t){var e=t.handleSubmit,s=t.profile,a=t.isOwner,c=t.error;return Object(m.jsx)("form",{onSubmit:e,children:Object(m.jsxs)("div",{children:[c&&Object(m.jsx)("div",{className:C.a.error,children:c}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"User Name"}),": ",Object(m.jsx)(v.a,{className:C.a.contactsInput,placeholder:"Full name",name:"fullName",component:"input"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"About me:"})," ",Object(m.jsx)(v.a,{className:C.a.contactsInput,placeholder:"About me",name:"aboutMe",component:"input"})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Contacts"}),": ",Object.keys(s.contacts).map((function(t){return Object(m.jsxs)("div",{ket:t,children:[Object(m.jsxs)("b",{children:[t,":"]})," ",Object(m.jsx)(v.a,{className:C.a.contactsInput,name:"contacts."+t,placeholder:t,component:"input"})]})}))]}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"I find work:"}),Object(m.jsx)(v.a,{className:C.a.contactsInput,name:"lookingForAJob",type:"checkbox",component:"input"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Description:"}),Object(m.jsx)(v.a,{className:C.a.contactsInput,placeholder:"Description",name:"lookingForAJobDescription",component:"input"})]}),a&&Object(m.jsx)("button",{className:C.a.submitContacts,children:"Save"})]})})}))),U=function(t){var e=t.profile,s=t.isOwner,a=t.goToEditMode;return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:C.a.profileDataItems,children:[Object(m.jsx)("b",{children:"User Name:"})," ",e.fullName]}),Object(m.jsxs)("div",{className:C.a.profileDataItems,children:[Object(m.jsx)("b",{children:"About me:"})," ",e.aboutMe]}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.contacts).map((function(t){return Object(m.jsx)(E,{contactTitle:t,contactValue:e.contacts[t]})}))]}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:C.a.profileDataItems,children:[Object(m.jsx)("b",{children:"I find work:"})," ",e.lookingForAJob?"Yes":"No"]}),Object(m.jsxs)("div",{className:C.a.profileDataItems,children:[Object(m.jsx)("b",{children:"Description:"})," ",e.lookingForAJobDescription]})]}),s&&Object(m.jsx)("button",{className:C.a.editContacts,onClick:a,children:"Edit"})]})},E=function(t){var e=t.contactTitle,s=t.contactValue;return Object(m.jsxs)("div",{className:C.a.profileDataItems,children:[Object(m.jsx)("b",{children:e}),": ",s]})},J=function(t){var e=Object(r.useState)(!1),s=Object(S.a)(e,2),a=s[0],c=s[1];if(!t.profile)return Object(m.jsx)(y.a,{});return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:C.a.items,children:[Object(m.jsxs)("div",{className:C.a.info,children:[Object(m.jsx)("img",{src:t.profile.photos.large||T.a,className:C.a.avatar,alt:"avatar"}),t.isOwner&&Object(m.jsxs)("label",{className:C.a.upload,children:["Upload avatar",Object(m.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&t.savePhoto(e.target.files[0])}})]}),Object(m.jsx)(M,{status:t.status,updateStatusProfile:t.updateStatusProfile})]}),Object(m.jsx)("div",{className:C.a.info,children:a?Object(m.jsx)(A,{onSubmit:function(e){t.saveProfileInfo(e).then((function(){c(!1)}))},initialValues:t.profile,profile:t.profile,isOwner:t.isOwner,goToEditMode:function(){c(!1)}}):Object(m.jsx)(U,{profile:t.profile,isOwner:t.isOwner,goToEditMode:function(){c(!0)}})})]})})},z=s(296),F=s.n(z),V=function(t){return Object(m.jsxs)("div",{className:F.a.items,children:[Object(m.jsx)(J,{saveProfileInfo:t.saveProfileInfo,savePhoto:t.savePhoto,isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatusProfile:t.updateStatusProfile}),Object(m.jsx)(k,{})]})},Y=function(t){Object(n.a)(s,t);var e=Object(o.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(i.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatusProfile(t),this.props.updateStatusProfile(this.props.status)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e){this.props.match.params.userId!=t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(m.jsx)("div",{className:F.a.content,children:Object(m.jsx)(V,Object(a.a)(Object(a.a)({},this.props),{},{saveProfileInfo:this.props.saveProfileInfo,profile:this.props.profile,status:this.props.status,updateStatusProfile:this.props.updateStatusProfile,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto}))})}}]),s}(l.a.Component);e.default=Object(b.d)(u.g,Object(j.b)((function(t){return{profile:t.contentPage.profile,status:t.contentPage.status,authUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:d.d,getStatusProfile:d.c,updateStatusProfile:d.g,savePhoto:d.e,saveProfileInfo:d.f}))(Y)}}]);
//# sourceMappingURL=4.eb54f95f.chunk.js.map