(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[4],{665:function(e,t,s){e.exports={avatar:"Profile_avatar__3lCtT",upload:"Profile_upload__2aiy0",statusUpload:"Profile_statusUpload__1z6Yd",input:"Profile_input__3d3XV",btn_contact:"Profile_btn_contact__1lx3Y",wrapper:"Profile_wrapper__1ojNP"}},667:function(e,t,s){e.exports={items:"Content_items__2uNhE"}},673:function(e,t,s){e.exports={titleNewPost:"MyPosts_titleNewPost__1l1Fi"}},674:function(e,t,s){e.exports={img:"Post_img__ZxOsZ",writing:"Post_writing__2i3Ms",like:"Post_like__8m9HU",item:"Post_item__3v7MR"}},675:function(e,t,s){e.exports={error:"FormsControl_error__3RiE9",errorMessage:"FormsControl_errorMessage__33SnA"}},680:function(e,t,s){"use strict";s.r(t);var a=s(14),i=s(242),r=s(243),c=s(306),n=s(302),o=s(0),l=s.n(o),j=s(24),d=s(35),u=s(30),b=s(220),p=s(99),h=s(673),f=s.n(h),O=s(674),x=s.n(O),m=s(683),v=s(657),P=s(662),_=s(2),N=function(e){return Object(_.jsx)("div",{children:Object(_.jsxs)("div",{className:x.a.item,children:[Object(_.jsx)(v.a,{size:64,icon:Object(_.jsx)(P.a,{})}),Object(_.jsx)("span",{className:x.a.writing,children:e.message}),Object(_.jsxs)("a",{className:x.a.like,href:"#",children:[Object(_.jsx)(m.a,{twoToneColor:"#eb2f96"}),e.like]})]})})},g=s(300),w=s(134),k=(s(666),s(299));s(675);function S(e,t,s,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(_.jsxs)("div",{children:[Object(_.jsx)(k.a,Object(a.a)({placeholder:e,name:t,validate:s,component:i},r))," ",c]})}var I=s(301),y=s(135),T=Object(w.a)(15),D=Object(g.a)({form:"profileAddPostTextArea"})((function(e){return Object(_.jsx)("div",{children:Object(_.jsxs)("form",{onSubmit:e.handleSubmit,children:[S("Write a new post","addedPostElement",[w.b,T],y.TextAreaField),Object(_.jsx)(I.a,{type:"primary",htmlType:"submit",children:"Send"})]})})})),C=function(e){var t=Object(p.a)(e.postData).reverse().map((function(e){return Object(_.jsx)(N,{message:e.message,like:e.like},e.id)}));return Object(_.jsxs)("div",{className:f.a.wrapper,children:[Object(_.jsx)("div",{className:f.a.newPost,children:Object(_.jsx)(D,{onSubmit:function(t){e.addPost(t.addedPostElement)}})}),Object(_.jsx)("div",{className:f.a.titleNewPost,children:Object(_.jsx)("b",{children:"My posts"})}),Object(_.jsx)("div",{children:t})]})},F=Object(j.b)((function(e){return{postData:e.contentPage.postData,newPostText:e.contentPage.newPostText}}),{addPost:b.a.addPostActionCreater})(C),A=s(219),U=s(110),M=s(665),E=s.n(M),J=function(e){var t=Object(o.useState)(!1),s=Object(A.a)(t,2),a=s[0],i=s[1],r=Object(o.useState)(e.status),c=Object(A.a)(r,2),n=c[0],l=c[1];Object(o.useEffect)((function(){l(e.status)}),[e.status]);var j=function(){i(!1),e.updateStatusProfile(n)};return Object(_.jsx)("div",{className:E.a.wrapper,children:a?Object(_.jsxs)("div",{children:["Status: ",Object(_.jsx)("input",{onChange:function(e){l(e.currentTarget.value)},onBlur:j,onClick:j,value:n,autoFocus:!0})]}):Object(_.jsxs)("div",{onClick:function(){i(!0)},children:[Object(_.jsx)("b",{children:"Status:"}),Object(_.jsxs)("span",{className:E.a.statusUpload,children:[" ",e.status||"set status"]})]})})},V=s(244),z=(Object(w.a)(15),Object(g.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,s=e.profile,a=e.isOwner,i=e.error;return Object(_.jsx)("form",{onSubmit:t,children:Object(_.jsxs)("div",{className:E.a.wrapper,children:[i&&Object(_.jsx)("div",{className:E.a.error,children:i}),Object(_.jsxs)("div",{className:E.a.input,children:[Object(_.jsx)("b",{children:"User Name"}),":",S("Full name","fullName",[],y.TextField)]}),Object(_.jsxs)("div",{className:E.a.input,children:[Object(_.jsx)("b",{children:"About me:"}),S("About me","aboutMe",[],y.TextField)]}),Object(_.jsx)("br",{}),Object(_.jsxs)("div",{className:E.a.input,children:[Object(_.jsxs)("div",{style:{marginBottom:"15px",fontSize:"18px"},children:[Object(_.jsx)("b",{children:"Contacts"}),":"]})," ",Object.keys(s.contacts).map((function(e){return Object(_.jsx)("div",{children:Object(_.jsxs)("b",{children:[e,": ",S(e,"contacts."+e,[],y.TextField)]})},e)}))]}),Object(_.jsx)("br",{}),Object(_.jsxs)("div",{className:E.a.input,children:[Object(_.jsx)("b",{children:"I find work:"}),S("","lookingForAJob",[],y.CheckboxField)]}),Object(_.jsxs)("div",{className:E.a.input,children:[Object(_.jsx)("b",{children:"Description:"})," ",S("Description","lookingForAJobDescription",[],y.TextField)]}),a&&Object(_.jsx)(I.a,{className:E.a.btn_contact,htmlType:"submit",type:"primary",children:"Save"})]})})}))),R=s(679),Y=s(684),B=function(e){var t=e.profile,s=e.isOwner,a=e.goToEditMode;return Object(_.jsxs)("div",{className:E.a.wrapper,children:[Object(_.jsxs)("div",{className:E.a.profileDataItems,children:[Object(_.jsx)("b",{children:"User Name:"})," ",t.fullName]}),Object(_.jsxs)("div",{className:E.a.profileDataItems,children:[Object(_.jsx)("b",{children:"About me:"})," ",t.aboutMe]}),Object(_.jsx)("br",{}),Object(_.jsxs)("div",{children:[Object(_.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(e){return Object(_.jsx)(Z,{contactTitle:e,contactValue:t.contacts[e]},e)}))]}),Object(_.jsx)("br",{}),Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:E.a.profileDataItems,children:[Object(_.jsx)("b",{children:"I find work:"})," ",t.lookingForAJob?"Yes":"No"]}),Object(_.jsxs)("div",{className:E.a.profileDataItems,children:[Object(_.jsx)("b",{children:"Description:"})," ",t.lookingForAJobDescription]})]}),s&&Object(_.jsx)(I.a,{type:"primary",onClick:a,children:"Edit"})]})},Z=function(e){var t=e.contactTitle,s=e.contactValue;return Object(_.jsxs)("div",{className:E.a.profileDataItems,children:[Object(_.jsx)("b",{children:t}),": ",s]})},H=function(e){var t=Object(o.useState)(!1),s=Object(A.a)(t,2),a=s[0],i=s[1];if(!e.profile)return Object(_.jsx)(U.a,{});return Object(_.jsx)("div",{children:Object(_.jsxs)("div",{className:E.a.items,children:[Object(_.jsxs)("div",{className:E.a.info,children:[Object(_.jsx)("img",{src:e.profile.photos.large||V.a,className:E.a.avatar,alt:"avatar"}),Object(_.jsx)(R.a,{action:function(t){t&&e.savePhoto(t)},listType:"picture",maxCount:1,children:Object(_.jsx)(I.a,{style:{marginLeft:"20px"},icon:Object(_.jsx)(Y.a,{}),children:"Upload"})}),Object(_.jsx)(J,{status:e.status,updateStatusProfile:e.updateStatusProfile})]}),Object(_.jsx)("div",{className:E.a.info,children:a?Object(_.jsx)(z,{onSubmit:function(t){e.saveProfileInfo(t).then((function(){i(!1)}))},initialValues:e.profile,profile:e.profile,isOwner:e.isOwner}):Object(_.jsx)(B,{profile:e.profile,isOwner:e.isOwner,goToEditMode:function(){i(!0)}})})]})})},L=s(667),W=s.n(L),X=function(e){return Object(_.jsxs)("div",{className:W.a.items,children:[Object(_.jsx)(H,{saveProfileInfo:e.saveProfileInfo,savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatusProfile:e.updateStatusProfile}),Object(_.jsx)(F,{})]})},q=function(e){Object(c.a)(s,e);var t=Object(n.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authUserId)||this.props.history.push("/login"),this.props.updateStatusProfile(this.props.status),e?(this.props.getUserProfile(e),this.props.getStatusProfile(e)):console.error('ID should exists in URI params or in state ("authUserId")')}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(_.jsx)("div",{className:W.a.content,children:Object(_.jsx)(X,Object(a.a)(Object(a.a)({},this.props),{},{saveProfileInfo:this.props.saveProfileInfo,profile:this.props.profile,status:this.props.status,updateStatusProfile:this.props.updateStatusProfile,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto}))})}}]),s}(l.a.Component);t.default=Object(u.d)(d.h,Object(j.b)((function(e){return{profile:e.contentPage.profile,status:e.contentPage.status,authUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:b.d,getStatusProfile:b.c,updateStatusProfile:b.g,savePhoto:b.e,saveProfileInfo:b.f}))(q)}}]);
//# sourceMappingURL=4.12c2c48c.chunk.js.map